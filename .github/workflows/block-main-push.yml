name: Block Direct Push to Main (Except for Admin)

on:
  push:
    branches:
      - main

jobs:
  prevent-direct-push:
    runs-on: ubuntu-latest
    steps:
      - name: Ki·ªÉm tra ng∆∞·ªùi d√πng push
        run: |
          ALLOWED_USER="HoangNV120"  # Thay th·∫ø b·∫±ng GitHub username c·ªßa b·∫°n
          PUSHER="${{ github.actor }}"
          
          if [ "$PUSHER" != "$ALLOWED_USER" ]; then
            echo "üö´ Ng∆∞·ªùi d√πng $PUSHER kh√¥ng ƒë∆∞·ª£c ph√©p push tr·ª±c ti·∫øp l√™n 'main'. Vui l√≤ng t·∫°o Pull Request!"
            exit 1
          fi
          
          echo "‚úÖ Ng∆∞·ªùi d√πng $PUSHER ƒë∆∞·ª£c ph√©p push l√™n 'main'."
